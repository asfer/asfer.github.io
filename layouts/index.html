{{ define "main" }}

<!-- Header -->
<header class="mb-14">
  <div class="flex items-center justify-between mb-6">
    <h1 class="font-serif text-2xl text-zinc-950 dark:text-zinc-50">{{ .Site.Params.name }}</h1>
    <nav class="flex items-center gap-5 text-sm text-zinc-500 dark:text-zinc-600">
      <a href="/posts" class="hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors">posts</a>
    </nav>
  </div>

  <!-- Bio -->
  <section class="prose prose-zinc dark:prose-invert text-zinc-700 dark:text-zinc-400 leading-relaxed text-[15px]
    prose-headings:font-sans prose-headings:font-medium prose-headings:text-zinc-500 dark:prose-headings:text-zinc-500 prose-headings:text-xs prose-headings:uppercase prose-headings:tracking-widest prose-headings:mt-6 prose-headings:mb-1
    prose-p:my-0 prose-p:mb-2
    prose-strong:text-zinc-800 dark:prose-strong:text-zinc-200
    prose-h3:text-xs">
    {{ .Content }}
  </section>

  <!-- Links -->
  <div class="mt-6 flex items-center gap-4 text-sm text-zinc-500 dark:text-zinc-600">
    <a href="mailto:{{ .Site.Params.email }}" class="hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors">email</a>
    {{ with .Site.Params.github }}
    <a href="{{ . }}" target="_blank" class="hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors">github</a>
    {{ end }}
    {{ with .Site.Params.linkedin }}
    <a href="{{ . }}" target="_blank" class="hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors">linkedin</a>
    {{ end }}
  </div>
</header>

<!-- Recent posts -->
{{ $posts := where (where .Site.RegularPages "Section" "posts") "Params.status" "ne" "draft" }}
{{ if $posts }}
<section class="mt-14">
  <h2 class="font-serif text-lg text-zinc-950 dark:text-zinc-50 mb-5">Writing</h2>
  <ul class="space-y-4">
    {{ range first 5 $posts }}
    <li class="flex items-baseline justify-between gap-4">
      <a
        href="{{ .RelPermalink }}"
        class="text-[15px] text-zinc-700 dark:text-zinc-400 hover:text-zinc-950 dark:hover:text-zinc-50 transition-colors underline decoration-zinc-300 dark:decoration-zinc-700 underline-offset-[3px] hover:decoration-zinc-500 dark:hover:decoration-zinc-500"
      >
        {{ .Title }}
      </a>
      <span class="text-xs text-zinc-500 dark:text-zinc-600 shrink-0">
        {{ .Date.Format "Jan 2006" }}
      </span>
    </li>
    {{ end }}
  </ul>
  {{ if gt (len $posts) 5 }}
  <a href="/posts" class="inline-block mt-5 text-sm text-zinc-500 dark:text-zinc-600 hover:text-zinc-700 dark:hover:text-zinc-400 transition-colors">
    all posts â†’
  </a>
  {{ end }}
</section>
{{ end }}

{{ end }}
